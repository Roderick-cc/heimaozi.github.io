---
title: cookie小记
date: 2018-10-20 10:31:01
comments: true
reward: false
toc: true
tags:
	- cookie
---



通过此文，你可以了解：

1.cookie是什么，cookie的缺点和session的区别

2.区分cookie和webStorage，简单介绍浏览器的本地存储的两种方式：sessionStorage和localStorage

<!--more-->

### 1. cookie是什么

ookie是当你浏览网站的时候，它其中记录了你的用户名、密码、浏览的网页、停留的时间等等信息。当你再次来到这个网站时，web服务器会先看看有没有它上次留下来的cookie。如果有的话，会读取cookie中的内容，来判断用户对象，并获取相关的数据，不需要服务器再起发送响应数据，减少了服务器的请求次数。

简单的说就是：

(1) cookie是以小的文本文件形式（即纯文本），完全存在于客户端；cookie保存了**登录的凭证**，有了它，只需要在下次请求时带着cookie发送，就不必再重新输入用户名、密码等重新登录了。

(2) 是设计用来在**服务端**和**客户端**进行**信息传递**的；

> 第一次请求时候： 客户端发送请求到服务端，服务端响应（请求头中用set-cookie标识用户身份）

> 第二次请求：浏览器会把cookie放到请求头一起提交给服务器，cookie携带了会话ID信息。服务器会根据cookie辨认用户身份：由于cookie带了会话的ID信息，可以通过cookie找到对应会话，通过判断会话来判断用户状态。

### 2.cookie 的缺点

cookie的缺点：

​	(1) 每个特定域名下的cookie数量有限：

​		IE6或IE6-(IE6以下版本)：最多20个cookie

​		IE7或IE7+(IE7以上版本)：最多50个cookie

​		FF:最多50个cookie

​		Opera:最多30个cookie

​		Chrome和safari没有硬性限制

​	当超过单个域名限制之后，再设置cookie，浏览器就会清除以前设置的cookie。IE和Opera会清理近期最少使用的cookie，FF会随机清理cookie；

​	(2) 存储量太小，只有4KB；

​	(3) 每次HTTP请求都会发送到服务端，影响获取资源的效率；

​	(4) 需要自己封装获取、设置、删除cookie的方法；

### 3.cookie 和session的区别

cookie是存在客户端浏览器上，session会话存在服务器上。会话对象用来存储特定用户会话所需的属性及配置信息。当用户请求来自应用程序的web页时，如果该用户还没有会话，则服务器将自动创建一个会话对象。当会话过期或被放弃后，服务器将终止该会话。cookie和会话需要配合

### 4.web storage和cookie的区别

(1) web storages和cookie的作用不同，web storage是用于本地大容量存储数据(web storage的存储量大到5MB);而cookie是用于客户端和服务端间的信息传递；

(2) web storage有setItem、getItem、removeItem、clear等方法，cookie需要我们自己来封装setCookie、getCookie、removeCookie这些方法



### 5.浏览器本地存储

####  localStorage和sessionStorage

​	在较高版本的浏览器中，js提供了两种存储方式：sessionStorage和globalStorage。在H5中，用localStorage取代了globalStorage。

​	sessionStorage用于本地存储一个会话中的数据，这些数据只有在同一个会话中的页面才能访问，并且当会话结束后，数据也随之销毁。所以sessionStorage仅仅是会话级别的存储，而不是一种持久化的本地存储。

​	localStorage是持久化的本地存储，除非是通过js删除，或者清除浏览器缓存，否则数据是永远不会过期的。